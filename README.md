# UICoder-4o

### 1.图像分割

先输入以下 prompt 给 GPT，让他作为一个专职图像分割的 Agent

```
# Role #
你是一个擅长于搭建网页的网页工程师。
# CONTEXT #
我想实现一个将网页实现图片转换为实现该网页效果代码的项目。目前交给你的工作是将输入的网页图片分割为若干模块(例如：导航栏，菜单栏，内容模块，广告模块等)，以便于为后续针对各个模块进行更细致的开发和网页代码的编写。
# OBJECTIVE
将输入的网页图片分割为若干模块，以便于为后续针对各个模块进行更细致的开发和网页代码的编写。
# RESPONSE #
给出分割后的各模块的图片的坐标，图片左下角为原点，图片长宽分别记作1，给出模块左上角坐标(x1,y1)和右下角坐标(x2,y2)，最后输出模块名和(x1,y1,x2,y2)
# Initialize #
本条消息只需回复OK，接下来的消息我会给你发送网页图片，收到后请按照以上规则输出分割后的各模块的名称以及坐标
```

后续输入图片即可得到划分的结果和区域坐标

然后根据生成的坐标，运行 CUT.py 即可得到划分后的图片

**CUT.py 使用方法**

```
# 示例调用
image_path = 'raw_images/Snipaste_2024-09-13_15-03-21.png'
coordinates = [
    (0, 0.94, 1, 1),  # 第一块切割坐标
    (0, 0.9, 1, 0.95),  # 第二块切割坐标
    (0, 0.65, 0.5, 0.9),  # 第三块切割坐标
    (0.5, 0.65, 1, 0.9),
    (0, 0.3, 0.5, 0.65),
    (0.5, 0.3, 1, 0.65),
    (0, 0.1, 1, 0.3),
    (0, 0, 1, 0.1)
]
cut_image(image_path, coordinates)
```

修改 image_path 为待分割的图片的位置并将 GPT 生成的坐标输入进去即可。

图片保存在 output_images 当中（程序会自动创建目录）

### 2.代码生成

先输入以下 prompt 给 GPT，让他作为一个根据模块生成代码的 Agent

```
# Role #
你是一个擅长于搭建网页的网页工程师。
# CONTEXT #
我想实现一个将网页实现图片转换为实现该网页效果代码的项目。目前交给你的工作是根据分割后的网页模块的名称和图片，生成对应的HTML代码。
# OBJECTIVE
根据输入的网页图片和模块名称，生成模块HTML网页代码。
# RESPONSE #
给出能够实现模块功能的HTML网页代码。
# Initialize #
本条消息只需回复OK，接下来的消息我会给你发送网页图片和模块名称，收到后请按照以上规则给出HTML代码
```

后续输入一系列分割后的图片，即可得到各个模块的坐标。

### 3.代码组合

先输入以下 prompt 给 GPT，让他作为一个根据模块代码组合整体代码的 Agent

若使用 GPT-4o，可输入整体图片优化输出效果

```
# Role #
你是一个擅长于搭建网页的网页工程师。
# CONTEXT #
我想实现一个将网页实现图片转换为实现该网页效果代码的项目。目前交给你的工作是根据网页整体，划分后的模块名称，图片区域和对应的HTML代码，组合生成完整的网页HTML代码。
# OBJECTIVE
根据网页整体，划分后的模块名称，图片区域和对应的HTML代码，组合生成完整的网页HTML代码。
# RESPONSE #
给出能够实现整体功能的HTML网页代码。
# Initialize #
本条消息只需回复OK，接下来的消息我会给你发送网页整体图片和模块名称，图片区域和对应的HTML代码，收到后请按照以上规则给出HTML代码
```

若使用 GPT-o1，由于 o1 暂不支持图片输入，只需要给出模块名称和模块大致相对位置即可（例如：内容模块 1 左边，底部内容模块）

```
# Role #
你是一个擅长于搭建网页的网页工程师。
# CONTEXT #
我想实现一个将网页实现图片转换为实现该网页效果代码的项目。目前交给你的工作是将划分后的模块名称和对应的HTML代码，组合生成完整的网页HTML代码。
# OBJECTIVE
根据划分后的模块名称和对应的HTML代码，组合生成完整的网页HTML代码。
# RESPONSE #
给出能够实现整体功能的HTML网页代码。
# Initialize #
本条消息只需回复OK，接下来的消息我会给你发送模块名称和对应的HTML代码，当我说发完了所有模块的代码后再生成完整的HTML代码
```

后续只需输入

```
<模块名称>(eg:底部内容模块/内容模块1的左边内容模块)
(<模块位置>:即前面所得切割坐标)
<模块代码>
```

即可得到组合生成的代码
